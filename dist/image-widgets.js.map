{"version":3,"sources":["webpack:///webpack/bootstrap 79f330b8d2935302bbc1","webpack:///./images.js","webpack:///./client.js","webpack:///./date.js","webpack:///./layers.js","webpack:///./images.less","webpack:///./layers.less","webpack:///./views/image-body.html","webpack:///./views/image-config.html","webpack:///./views/image-meta.html","webpack:///./views/image-layers.html","webpack:///./views/image-pull.html","webpack:///./views/imagestream-body.html","webpack:///./views/imagestream-meta.html","webpack:///./views/imagestream-push.html"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA,iCAAgC;AAChC;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C,kCAAiC,QAAQ;AACzC;AACA,uCAAsC,QAAQ;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAwB;AACxB;AACA;AACA,sEAAqE,EAAE;AACvE;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,0DAAyD;AACzD;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,2DAA0D;AAC1D;AACA,kBAAiB;AACjB;AACA,yDAAwD;AACxD;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,EAAE;AAC1C;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,yCAAwC,EAAE;AAC1C;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;AC9TD;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA,iCAAgC;AAChC;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA8C;AAC9C;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrFD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;AClDD;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA,iCAAgC;AAChC;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,0BAAyB;AACzB;AACA,0EAAyE,EAAE,QAAQ,EAAE,gBAAgB,EAAE;AACvG,0BAAyB;AACzB,0EAAyE,EAAE,UAAU,EAAE,mBAAmB,EAAE;AAC5G;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;;AAErB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;AClID,0C;;;;;;;ACAA,0C;;;;;;ACAA;AACA,MAAK;AACL,UAAS;AACT,qHAAoH,eAAe,yFAAyF,kBAAkB,qGAAqG,sBAAsB,kJAAkJ,cAAc,mEAAmE,eAAe,yEAAyE,kCAAkC,uRAAuR,sBAAsB,KAAK,sCAAsC,yFAAyF,mCAAmC,KAAK,mDAAmD,+HAA+H,mCAAmC,KAAK,kDAAkD,0CAA0C,uBAAuB,mDAAmD,gBAAgB,iKAAiK,MAAM;AACttD,4CAA2C,yDAAyD;AACpG,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,8EAA6E,yBAAyB,uJAAuJ,aAAa,gIAAgI,mBAAmB,yIAAyI,mBAAmB,0EAA0E,qBAAqB,2CAA2C,wCAAwC,sLAAsL,KAAK,uLAAuL,MAAM,0PAA0P,QAAQ;AACr2C,4CAA2C,2DAA2D;AACtG,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,iMAAgM,MAAM,GAAG,OAAO,uHAAuH,MAAM,+IAA+I,MAAM,IAAI,OAAO,8CAA8C,yCAAyC;AACpkB,4CAA2C,yDAAyD;AACpG,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,+FAA8F,cAAc,oBAAoB,cAAc,KAAK,0BAA0B,aAAa,cAAc;AACxM,4CAA2C,2DAA2D;AACtG,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,+PAA8P,UAAU,2EAA2E,wBAAwB,UAAU,UAAU;AAC/X,4CAA2C,yDAAyD;AACpG,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,0SAAyS,qBAAqB,eAAe,gCAAgC,gBAAgB,wBAAwB,g5DAAg5D,wCAAwC,kDAAkD,0CAA0C,gDAAgD,gCAAgC;AACz/E,4CAA2C,+DAA+D;AAC1G,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,2LAA0L,MAAM,IAAI,OAAO;AAC3M,4CAA2C,+DAA+D;AAC1G,mB;;;;;;ACLA;AACA,MAAK;AACL,UAAS;AACT,oPAAmP,wBAAwB,UAAU,kCAAkC,GAAG,4BAA4B,0CAA0C,wBAAwB,UAAU,kCAAkC,GAAG,4BAA4B,kIAAkI,kCAAkC,GAAG,4BAA4B,gFAAgF,kCAAkC,GAAG,4BAA4B;AACvzB,4CAA2C,+DAA+D;AAC1G,mB","file":"image-widgets.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 79f330b8d2935302bbc1\n **/","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n\"use strict\";\n\n/*\n * Executes callback for each stream.status.tag[x].item[y]\n * in a stream. Similar behavior to angular.forEach()\n */\nfunction imagestreamEachTagItem(imagestream, callback, context) {\n    var i, il, items;\n    var t, tl, tags = (imagestream.status || {}).tags || [];\n    for (t = 0, tl = tags.length; t < tl; t++) {\n        items = (tags[t].items) || [];\n        for (i = 0, il = items.length; i < il; i++)\n            callback.call(context || null, tags[t], items[i]);\n    }\n}\n\nangular.module('registryUI.images', [\n    'registryUI.client',\n    'registryUI.date',\n])\n\n.factory('imageDockerManifest', [\n    'WeakMap',\n    function(WeakMap) {\n        var weak = new WeakMap();\n\n        return function imageDockerManifest(image) {\n            if (!image)\n                return { };\n            var manifest = weak.get(image);\n            if (!manifest) {\n                manifest = JSON.parse(image.dockerImageManifest || \"{ }\");\n                angular.forEach(manifest.history || [], function(item) {\n                    if (typeof item.v1Compatibility == \"string\")\n                        item.v1Compatibility = JSON.parse(item.v1Compatibility);\n                });\n                weak.set(image, manifest);\n            }\n            return manifest;\n        };\n    }\n])\n\n.factory('imageDockerConfig', [\n    'WeakMap',\n    'imageLayers',\n    function(WeakMap, imageLayers) {\n        var weak = new WeakMap();\n        return function imageDockerConfig(image) {\n            if (!image)\n                return { };\n            var meta, layers, compat, config = weak.get(image);\n            if (!config) {\n                layers = imageLayers(image);\n                if (layers.length)\n                    compat = layers[0].v1Compatibility;\n                if (compat && compat.config) {\n                    config = compat.config;\n                } else {\n                    meta = image.dockerImageMetadata || { };\n                    if (meta.Config)\n                        config = meta.Config;\n                }\n                weak.set(image, config);\n            }\n            return config || { };\n        };\n    }\n])\n\n.factory('imageLayers', [\n    'WeakMap',\n    'imageDockerManifest',\n    function(WeakMap, imageDockerManifest) {\n        var weak = new WeakMap();\n        return function imageLayers(image) {\n            if (!image)\n                return [];\n            var manifest, layers = weak.get(image);\n            if (!layers) {\n                manifest = imageDockerManifest(image);\n                if (manifest.history)\n                    layers = manifest.history;\n                else if (image.dockerImageLayers)\n                    layers = image.dockerImageLayers;\n                else\n                    layers = [];\n                weak.set(image, layers);\n            }\n            return layers;\n        };\n    }\n])\n\n.factory('imagestreamTags', [\n    'WeakMap',\n    function(WeakMap) {\n        var weak = new WeakMap();\n        return function imagestreamTags(imagestream) {\n            if (!imagestream)\n                return [ ];\n            var name, build, tags = weak.get(imagestream);\n            if (!tags) {\n                build = { };\n                angular.forEach(imagestream.spec.tags, function(tag) {\n                    build[tag.name] = build[tag.name] || { name: tag.name, imagestream: imagestream };\n                    build[tag.name].spec = angular.copy(tag);\n                });\n                angular.forEach(imagestream.status.tags, function(tag) {\n                    build[tag.tag] = build[tag.tag] || { name: tag.tag, imagestream: imagestream };\n                    build[tag.tag].status = angular.copy(tag);\n                });\n                tags = [ ];\n                for (name in build)\n                    tags.push(build[name]);\n                weak.set(imagestream, tags);\n                console.log(\"tags\", tags, build, imagestream);\n            }\n            return tags;\n        };\n    }\n])\n\n.factory('imagestreamTagFromName', [\n    function() {\n        return function imagestreamFromName(imagestream, from) {\n            var parts, result = [ ];\n            if (from && from.kind === \"ImageStreamImage\")\n                result.delimiter = \"@\";\n            else if (from && from.kind === \"ImageStreamTag\")\n                result.delimiter = \":\";\n            if (result.delimiter) {\n                parts = from.name.split(result.delimiter);\n                if (parts.length === 1) {\n                    result.push(imagestream.spec.name, parts[0]);\n                } else {\n                    result.push(parts.shift());\n                    result.push(parts.join(result.delimiter));\n                }\n                result.qualified = result.join(result.delimiter);\n            }\n            return result;\n        };\n    }\n])\n\n.directive('registryImageBody', [\n    'imageLayers',\n    'imageDockerConfig',\n    function(imageLayers, imageDockerConfig) {\n        return {\n            restrict: 'E',\n            scope: {\n                image: '=',\n                names: '=',\n            },\n            templateUrl: 'registry-image-widgets/views/image-body.html',\n            link: function(scope, element, attrs) {\n                scope.$watch(\"image\", function(image) {\n                    scope.layers = imageLayers(image);\n                    scope.config = imageDockerConfig(image);\n                    scope.labels = scope.config.Labels;\n                    if (angular.equals({ }, scope.labels))\n                        scope.labels = null;\n                });\n            }\n        };\n    }\n])\n\n.directive('registryImagePull', [\n    function() {\n        return {\n            restrict: 'E',\n            scope: {\n                settings: '=',\n                names: '=',\n            },\n            templateUrl: 'registry-image-widgets/views/image-pull.html'\n        };\n    }\n])\n\n.directive('registryImageConfig', [\n    'imageDockerConfig',\n    function(imageDockerConfig) {\n        return {\n            restrict: 'E',\n            scope: {\n                image: '=',\n            },\n            templateUrl: 'registry-image-widgets/views/image-config.html',\n            link: function(scope, element, attrs) {\n                scope.configCommand = function configCommand(config) {\n                    var result = [ ];\n                    if (!config)\n                        return \"\";\n                    if (config.Entrypoint)\n                        result.push.apply(result, config.Entrypoint);\n                    if (config.Cmd)\n                        result.push.apply(result, config.Cmd);\n                    var string = result.join(\" \");\n                    if (config.User && config.User.split(\":\")[0] != \"root\")\n                        return \"$ \" + string;\n                    else\n                        return \"# \" + string;\n                };\n\n                scope.$watch(\"image\", function(image) {\n                    scope.config = imageDockerConfig(image);\n                });\n            }\n        };\n    }\n])\n\n.directive('registryImageMeta', [\n    'imageDockerConfig',\n    function(imageDockerConfig) {\n        return {\n            restrict: 'E',\n            scope: {\n                image: '=',\n            },\n            templateUrl: 'registry-image-widgets/views/image-meta.html',\n            link: function(scope, element, attrs) {\n                scope.$watch(\"image\", function(image) {\n                    scope.config = imageDockerConfig(image);\n                    scope.labels = scope.config.Labels;\n                    if (angular.equals({ }, scope.labels))\n                        scope.labels = null;\n                });\n            }\n        };\n    }\n])\n\n.directive('registryImagestreamBody', [\n    function() {\n        return {\n            restrict: 'E',\n            scope: {\n                imagestream: '=',\n                imagestreamFunc: '&imagestreamModify',\n                projectFunc: '&projectModify',\n                sharingFunc: '&projectSharing',\n            },\n            templateUrl: 'registry-image-widgets/views/imagestream-body.html',\n            link: function(scope, element, attrs) {\n                scope.projectModify = scope.projectFunc();\n                scope.projectSharing = scope.sharingFunc();\n                scope.imagestreamModify = scope.imagestreamFunc();\n            }\n        };\n    }\n])\n\n.directive('registryImagestreamPush', [\n    function(imageDockerConfig) {\n        return {\n            restrict: 'E',\n            scope: {\n                imagestream: '=',\n                settings: '=',\n            },\n            templateUrl: 'registry-image-widgets/views/imagestream-push.html',\n        };\n    }\n])\n\n.directive('registryImagestreamMeta', [\n    function(imageDockerConfig) {\n        return {\n            restrict: 'E',\n            scope: {\n                imagestream: '=',\n            },\n            templateUrl: 'registry-image-widgets/views/imagestream-meta.html',\n        };\n    }\n])\n\n.directive('registryImagestreamListing', [\n    'imagestreamTags',\n    function(imagestreamTags) {\n        return {\n            restrict: 'E',\n            scope: {\n                imagestream: '=',\n            },\n            templateUrl: 'views/imagestream-listing.html',\n            link: function(scope, element, attrs) {\n                scope.imagestreamTags = imagestreamTags;\n            }\n        };\n    }\n]);\n\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./images.js\n ** module id = 6\n ** module chunks = 0\n **/","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nangular.module('registryUI.client', [ ])\n\n.factory('WeakMap', function() {\n    if (typeof window.WeakMap === 'function')\n        return window.WeakMap;\n\n    /*\n     * A WeakMap implementation\n     *\n     * This works on ES5 browsers, with the caveat that the mapped\n     * items are discoverable with enough work.\n     *\n     * To be clear, the principal use of a WeakMap is to associate\n     * an value with an object, the object is the key. And then have\n     * that value go away when the object does. This is very, very\n     * similar to properties.\n     *\n     * The main difference is that any assigned values are not\n     * garbage collected if the *weakmap* itself is collected,\n     * and of course one can actually access the non-enumerable\n     * property that makes this work.\n     */\n\n    var weak_property, local_seed = 1;\n    function SimpleWeakMap() {\n        var local_property = \"weakmap\" + local_seed;\n        local_seed += 1;\n\n        if (!weak_property)\n            weak_property = Math.random().toString(36).slice(2);\n\n        var self = this;\n\n        self.delete = function delete_(obj) {\n            var x, map = obj[weak_property];\n            if (map)\n                delete map[local_property];\n        };\n\n        self.has = function has(obj) {\n            var map = obj[weak_property];\n            return (map && local_property in map);\n        };\n\n        self.get = function get(obj) {\n            var map = obj[weak_property];\n            if (!map)\n                return undefined;\n            return map[local_property];\n        };\n\n        self.set = function set(obj, value) {\n            var map = obj[weak_property];\n            if (!map) {\n                map = function WeakMapData() { };\n                Object.defineProperty(obj, weak_property, {\n                    enumerable: false, configurable: false,\n                    writable: false, value: map,\n                });\n            }\n\n            map[local_property] = value;\n        };\n    }\n\n    return SimpleWeakMap;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client.js\n ** module id = 7\n ** module chunks = 0\n **/","/* globals moment */\n\n(function() {\n\nangular.module('registryUI.date', [])\n\n.factory('dateRefreshMinute', [\n    \"$rootScope\",\n    function($rootScope) {\n        var interval = null;\n        return {\n            enable: function() {\n                if (interval === null) {\n                    interval = window.setInterval(function() {\n                        $rootScope.$applyAsync();\n                    }, 60000);\n                }\n            },\n            disable: function() {\n                if (interval !== null) {\n                    window.clearInterval(interval);\n                    interval = null;\n                }\n            },\n        };\n    }\n])\n\n.filter('dateRelative', [\n    \"dateRefreshMinute\",\n    function() {\n        function dateRelative(timestamp) {\n            if (!timestamp)\n                return timestamp;\n            return moment(timestamp).fromNow();\n        }\n\n        /* When moment is not loaded fall back to simple behavior */\n        function dateAbsolute(timestamp) {\n            return timestamp;\n        }\n\n        dateRelative.$stateful = true;\n        if (typeof(moment) === 'function')\n            return dateRelative;\n        else\n            return dateAbsolute;\n    }\n]);\n\n}());\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./date.js\n ** module id = 8\n ** module chunks = 0\n **/","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* globals cockpit */\n\n(function() {\n    \"use strict\";\n\n    function v1CompatibilityLabel(layer, lower) {\n        var cmd, last;\n        if (layer.v1Compatibility.container_config) {\n            cmd = layer.v1Compatibility.container_config.Cmd;\n            if (cmd) {\n                last = cmd[cmd.length - 1];\n                if (last.indexOf(\"#(nop)\") === 0)\n                    return last.substring(6).trim();\n                else if (cmd.length == 1 && cmd[0].indexOf(\"/bin/sh -c #(nop)\") === 0)\n                    return cmd[0].substring(17).trim();\n                else\n                    return cmd.join(\" \");\n            }\n        }\n\n        return layer.v1Compatibility.id;\n    }\n\n    angular.module('registryUI.images')\n\n    .factory('prepareLayer', [\n        'gettextCatalog',\n        function(gettextCatalog) {\n            return function prepareLayer(layer, index, layers) {\n                var result;\n                /* DockerImageManifest */\n                if (layer.v1Compatibility) {\n                    result = {\n                        id: layer.v1Compatibility.id,\n                        size: layer.v1Compatibility.Size || 0,\n                        label: v1CompatibilityLabel(layer, layers[index + 1])\n                    };\n\n                /* DockerImageLayers */\n                } else if (layer.name && layer.size) {\n                    result = {\n                        id: layer.name,\n                        size: layer.size || 0,\n                        label: layer.name,\n                    };\n\n                /* Unsupported layer type */\n                } else {\n                    result = {\n                        size: 0,\n                        id: index,\n                        label: gettextCatalog.getString(\"Unknown layer\"),\n                    };\n                }\n\n                /* Some hints for coloring the display */\n                if (result.label.indexOf(\"RUN \") === 0)\n                    result.hint = \"run\";\n                else if (result.label.indexOf(\"ADD \") === 0 || result.size > 8192)\n                    result.hint = \"add\";\n                else\n                    result.hint = \"other\";\n\n                return result;\n            };\n        }\n    ])\n\n    .directive('registryImageLayers', [\n        'imageLayers',\n        'prepareLayer',\n        'gettextCatalog',\n        function(imageLayers, prepareLayer, gettextCatalog) {\n            return {\n                restrict: 'E',\n                scope: {\n                    image: '=',\n                    data: '=?layers',\n                },\n                templateUrl: 'registry-image-widgets/views/image-layers.html',\n                link: function($scope, element, attributes) {\n                    $scope.formatSize = function(bytes) {\n                        var n;\n                        if (!bytes) {\n                            return \"\";\n                        } else if (bytes > 1024 && typeof cockpit != \"undefined\") {\n                            return cockpit.format_bytes(bytes);\n                        } else if (bytes > 1024 * 1024) {\n                            n = (bytes / (1024 * 1024)).toFixed(1);\n                            return gettextCatalog.getPlural(n, $scope, \"{0} MB\", \"{0} MB\").replace(\"{0}\", n);\n                        } else {\n                            return gettextCatalog.getPlural(n, $scope, \"{0} byte\", \"{0} bytes\").replace(\"{0}\", bytes);\n                        }\n                    };\n\n                    $scope.$watch('data', function(layers) {\n                        if (layers && layers.length)\n                            layers = layers.map(prepareLayer).reverse();\n                        $scope.layers = layers;\n                    });\n\n                    $scope.$watch('image', function(image) {\n                        /* Only digest layers if image is set, or null */\n                        if (!angular.isUndefined(image))\n                            $scope.data = imageLayers(image);\n                    });\n                }\n            };\n        }\n    ]);\n\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./layers.js\n ** module id = 9\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./images.less\n ** module id = 10\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./layers.less\n ** module id = 12\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<dl class=\\\"dl-horizontal left\\\"> <dt ng-if=\\\"labels.name\\\" translate>Name</dt> <dd ng-if=\\\"labels.name\\\">{{ labels.name }}</dd> <dt ng-if=\\\"labels.summary\\\" translate>Summary</dt> <dd ng-if=\\\"labels.summary\\\">{{ labels.summary }}</dd> <dt ng-if=\\\"labels.description\\\" translate>Description</dt> <dd ng-if=\\\"labels.description\\\">{{ labels.description }}</dd> <dt ng-if=\\\"labels.url\\\" translate>Source URL</dt> <dd ng-if=\\\"labels.url\\\"> <a href=\\\"labels.url\\\"><i class=\\\"fa fa-external-link\\\"></i> {{ labels.url }}</a> </dd> <dt translate>Author</dt> <dd ng-if=\\\"config.author\\\">{{config.author}}</dd> <dd ng-if=\\\"!config.author && image.dockerImageMetadata.Author\\\">{{image.dockerImageMetadata.Author}}</dd> <dd ng-if=\\\"!config.author && !image.dockerImageMetadata.Author\\\"><em translate>Unknown</em></dd> <dt ng-if=\\\"labels['build-date'] || layers[0].v1Compatibility.created || image.dockerImageMetadata.Created\\\" translate>Built</dt> <dd ng-if=\\\"labels['build-date']\\\" title=\\\"{{labels['build-date']}}\\\">{{ labels['build-date'] | dateRelative}}</dd> <dd ng-if=\\\"!labels['build-date'] && layers[0].v1Compatibility.created\\\" title=\\\"{{layers[0].v1Compatibility.created}}\\\">{{ layers[0].v1Compatibility.created | dateRelative}}</dd> <dd ng-if=\\\"!labels['build-date'] && !layers[0].v1Compatibility.created && image.dockerImageMetadata.Created\\\" title=\\\"{{image.dockerImageMetadata.Created}}\\\">{{image.dockerImageMetadata.Created | dateRelative}}</dd> <dt translate>Digest</dt> <dd><tt>{{ image.metadata.name }}</tt></dd> <dt translate>Identifier</dt> <dd><tt>{{ config.Image }}</tt></dd> </dl> <dl class=\\\"registry-image-tags\\\" ng-if=\\\"names\\\"> <dt translate>Tags</dt> <dd><span class=\\\"registry-image-tag\\\" ng-repeat=\\\"name in names\\\">{{name}}</span></dd> </dl>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/image-body.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/image-body.html\n ** module id = 13\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<dl class=\\\"dl-horizontal\\\"> <dt translate>Command:</dt> <dd><code>{{ configCommand(config) }}</code></dd> </dl> <div class=\\\"row\\\"> <dl class=\\\"col-xs-12 col-sm-12 col-md-4 dl-horizontal\\\"> <dt translate>Run as</dt> <dd ng-if=\\\"config.User\\\">{{config.User}}</dd> <dd ng-if=\\\"!config.User\\\"><em translate>Default</em></dd> <dt translate>Directory</dt> <dd ng-if=\\\"config.WorkingDir\\\">{{config.WorkingDir}}</dd> <dd ng-if=\\\"!config.WorkingDir\\\">/</dd> <dt ng-if=\\\"config.StopSignal\\\" translate>Stop with</dt> <dd ng-if=\\\"config.StopSignal\\\">{{config.StopSignal}}</dd> <dt translate>Architecture</dt> <dd ng-if=\\\"config.architecture\\\">{{config.architecture}}</dd> <dd ng-if=\\\"!config.architecture\\\">{{image.dockerImageMetadata.Architecture}}</dd> </dl> <dl class=\\\"col-xs-12 col-sm-12 col-md-8 dl-horizontal full-width\\\"> <dt ng-if=\\\"config.Env.length\\\" translate>Environment</dt> <dd ng-repeat=\\\"env in config.Env\\\"><tt>{{env}}</tt></dd> </dl> </div> <div class=\\\"row\\\"> <dl class=\\\"col-xs-12 col-sm-12 col-md-4 dl-horizontal\\\"> <dt translate>Ports</dt> <dd ng-repeat=\\\"(port, data) in config.ExposedPorts\\\">{{port}}</dd> <dd ng-if=\\\"!config.ExposedPorts\\\"><em translate>None</em></dd> </dl> <dl class=\\\"col-xs-12 col-sm-12 col-md-8 dl-horizontal full-width\\\"> <dt ng-if=\\\"config.Volumes\\\" translate>Volumes</dt> <dd ng-repeat=\\\"(volume, data) in config.Volumes\\\">{{volume}}</dd> </dl> </div>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/image-config.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/image-config.html\n ** module id = 14\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<div> <dl class=\\\"dl-horizontal left\\\"> <dt ng-if=\\\"labels\\\" translate>Labels</dt> <dd ng-repeat=\\\"(name, value) in labels\\\" ng-show=\\\"name != 'description' && name != 'name'\\\"> <tt>{{name}}={{value}}</tt> </dd> <dt ng-if=\\\"config.OnBuild.length\\\" translate>On Build</dt> <dd ng-repeat=\\\"line in config.OnBuild\\\"><tt>{{line}}</tt></dd> <dt ng-if=\\\"image.metadata.annotations\\\" translate>Annotations</dt> <dd ng-repeat=\\\"(name, value) in image.metadata.annotations\\\">{{name}}: {{value}}</dd> <dt translate>Docker Version</dt> <dd>{{image.dockerImageMetadata.DockerVersion}}</dd> </dl> </div>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/image-meta.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/image-meta.html\n ** module id = 15\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<ul class=\\\"registry-image-layers\\\"> <li ng-repeat=\\\"layer in layers\\\" class=\\\"hint-{{ layer.hint }}\\\"> <span title=\\\"{{ layer.size }}\\\">{{ formatSize(layer.size) }}</span> <p>{{ layer.label}}</p> </li> </ul>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/image-layers.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/image-layers.html\n ** module id = 16\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<div ng-if=\\\"names\\\" class=\\\"registry-image-pull\\\"> <p> <i class=\\\"fa fa-info-circle\\\"></i>\\n<span translate>To pull this image:</span> </p> <code ng-if=\\\"!settings.registry.host\\\">$ sudo docker pull <span class=\\\"placeholder\\\">registry</span>/{{names[0]}}</code>\\n<code ng-if=\\\"settings.registry.host\\\">$ sudo docker pull <span>{{settings.registry.host}}</span>/{{names[0]}}</code> </div>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/image-pull.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/image-pull.html\n ** module id = 17\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<div ng-repeat=\\\"statustags in imagestream.status.tags\\\"> <div ng-repeat=\\\"condition in statustags.conditions\\\" ng-if=\\\"condition.type == 'ImportSuccess' && condition.status == 'False'\\\" class=\\\"alert alert-danger\\\"> <span class=\\\"pficon pficon-error-circle-o\\\"></span>\\n<span translate>{{ condition.message }}. Timestamp: {{ condition.lastTransitionTime }} Error count: {{ condition.generation }}</span>\\n<a translate ng-if=\\\"imagestreamModify\\\" ng-click=\\\"imagestreamModify(imagestream)\\\" class=\\\"alert-link\\\">Edit image stream</a> </div> </div> <dl class=\\\"dl-horizontal left\\\"> <dt translate ng-if=\\\"projectSharing\\\">Access Policy</dt> <dd ng-if=\\\"projectSharing\\\" ng-switch=\\\"projectSharing(imagestream.metadata.namespace)\\\"> <div ng-switch-when=\\\"anonymous\\\"> <a translate ng-if=\\\"projectModify\\\" ng-click=\\\"projectModify(imagestream.metadata.namespace)\\\">Images may be pulled by anonymous users</a>\\n<span translate ng-if=\\\"!projectModify\\\">Images may be pulled by anonymous users</span>\\n<i title=\\\"Images accessible to anonymous users\\\" class=\\\"fa fa-unlock registry-imagestream-lock\\\"></i> </div> <div ng-switch-when=\\\"shared\\\"> <a translate ng-if=\\\"projectModify\\\" ng-click=\\\"projectModify(imagestream.metadata.namespace)\\\">Images may be pulled by any authenticated user or group</a>\\n<span translate ng-if=\\\"!projectModify\\\">Images may be pulled by any authenticated user or group</span>\\n<i title=\\\"Images accessible to authenticated users\\\" class=\\\"fa fa-lock registry-imagestream-lock\\\"></i> </div> <div ng-switch-when=\\\"private\\\"> <a translate ng-if=\\\"projectModify\\\" ng-click=\\\"projectModify(imagestream.metadata.namespace)\\\">Images may only be pulled by specific users or groups</a>\\n<span translate ng-if=\\\"!projectModify\\\">Images may only be pulled by specific users or groups</span>\\n<i title=\\\"Images only accessible to members\\\" class=\\\"fa fa-lock registry-imagestream-lock\\\"></i> </div> <div ng-switch-default> <a translate ng-if=\\\"projectModify\\\" ng-click=\\\"projectModify(imagestream.metadata.namespace)\\\">Unknown</a>\\n<span translate ng-if=\\\"!projectModify\\\">Unknown</span>\\n<i title=\\\"Unknown or invalid image access policy\\\" class=\\\"fa fa-lock registry-imagestream-lock\\\"></i> </div> </dd> <dt translate ng-if-start=\\\"imagestream.spec.dockerImageRepository\\\">Follows docker repo:</dt> <dd ng-if-end><tt>{{imagestream.spec.dockerImageRepository}}</tt></dd> <dt>Pulling repository:</dt> <dd><tt>{{imagestream.status.dockerImageRepository}}</tt></dd> <dt translate>Image count</dt> <dd>{{imagestream.status.tags.length}}</dd> </dl>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/imagestream-body.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/imagestream-body.html\n ** module id = 18\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<dl class=\\\"dl-horizontal left\\\"> <dt ng-if=\\\"imagestream.metadata.annotations\\\" translate>Annotations</dt> <dd ng-repeat=\\\"(name, value) in imagestream.metadata.annotations\\\">{{name}}: {{value}}</dd> </dl>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/imagestream-meta.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/imagestream-meta.html\n ** module id = 19\n ** module chunks = 0\n **/","var angular=window.angular,ngModule;\ntry {ngModule=angular.module([\"ng\"])}\ncatch(e){ngModule=angular.module(\"ng\",[])}\nvar v1=\"<div class=\\\"registry-imagestream-push\\\"> <p> <i class=\\\"fa fa-info-circle\\\"></i>\\n<span translate>To push to an image to this image stream:</span> </p> <code ng-if=\\\"settings.registry.host\\\">$ sudo docker tag <em>myimage</em> <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\\n$ sudo docker push <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}</code>\\n<code ng-if=\\\"!settings.registry.host\\\">$ sudo docker tag <em>myimage</em> <span class=\\\"placeholder\\\">registry</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\\n$ sudo docker push <span class=\\\"placeholder\\\">registry</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}</code> </div>\";\nngModule.run([\"$templateCache\",function(c){c.put(\"registry-image-widgets/views/imagestream-push.html\",v1)}]);\nmodule.exports=v1;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./views/imagestream-push.html\n ** module id = 20\n ** module chunks = 0\n **/"],"sourceRoot":""}